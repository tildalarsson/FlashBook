user_password = {"crispin":"dumtenta", "LarsÅke":"fbasmatte"} 
quiz_dict = {"spanska":{"hej":"hola", "gul":"amarillo"}, "engelska": {"blå": "blue", "grön":"green"}}
user_points = {"crispin": 0, "LarsÅke": 0}

def splash():
    print("-----------------------------------\n")
    print("\tWelcome to Flashbook")

def practice_quiz(quiz, user, points):
    n = 0 # point counter
    for i in quiz:
        svar = input(f'{i} = ')
        rätt_svar = quiz[i]
        if svar == rätt_svar:
            print("Correct answer!")
            n = n+1
        else:
            print(f'Wrong answer! Correct answer: {rätt_svar}')
    print(f"Your points this round: {n}") # vill lägga till av hur många poäng man kunde få
    points[user] = points[user] + n
    return points

def create_quiz(quizzes, title):
    if title not in quizzes:
        quizzes[title] = {}
    while True:
        word = input("Word: ")
        answer = input("Answer: ")
        quizzes[title][word] = answer
        quit = input("Finished? y/n: ")
        if quit == "y":
            break
    return quizzes
    
def quiz_option(quizzes):
    print("Write the title of a new or existing quiz")
    title = input("Title: ")
    return title  

def menu(x):
    if x == 1:
        print("\nl) Login \n c) Create new account \n q) Quit ")
    if x == 2:
        print("\nr) Retry \n q) Quit \n")
    if x == 3:
        print("\n p) Practise flashcards \n c) Create new flashcards")
    choice = input("\nOption: ").lower()
    return choice
    

def view_quizzes(quizzes):
    print("\nThese are your quizzes:")
    for keys in quizzes:
        print(keys)

def login(user_pswrd):
    while True:
        user = input("\nUsername: ")
        password = input("Password: ")
        if user not in user_pswrd or password != user_pswrd[user]:
            print("Fel lösenord")
            retry=menu(2)
            if retry == "q":
                print("quitting.....")
                return retry
        else:
            return user

def create_account(user_d, user_p):
    print("New user")
    n_user_name = input("\nUsername: ")
    n_user_pswrd = input("Password: ")
    user_d[n_user_name] = n_user_pswrd
    user_p[n_user_name] = 0
    print("ny dict", user_d)
    return user_d, user_p
    
    
def leaderboard():
    pass

def user_actions(user, quizzes, points):
    print(f"\nWelcome {user}!")
    while True:
        choice = menu(3)
        if choice == "p":
            view_quizzes(quizzes)
            quiz = input("\nChoose quiz: ")
            points = practice_quiz(quizzes[quiz], user, points)
        elif choice == "c":
            title = quiz_option(quizzes)
            quizzes = create_quiz(quizzes, title)
 
def main(users, quizzes, points):
    splash()
    while True:
        choice = menu(1)
        if choice == "q":
            break
        elif choice == "l":
            user = login(users)
            if user == "q":
                break
            user_actions(user, quizzes, points)
        elif choice == "c":
            users = create_account(users, points)
            continue

    #lägg till i quiz bweoende på title

main(user_password, quiz_dict, user_points)

#title = input("Title: ")
#   if title in quiz_dict:
#       
#    else:
#        quizzes[title] = {}

#def add(quizzes, title):
#        title = quiz_option(quiz_dict)
#        choice = input("Vill du lägga till i befintiligt quiz? (y/n): ")
#        if choice == "y":

#       quiz_dict[title].append


#view_quizzes(quiz_dict)
#print(quizzes["spanska"]["gul"])



#practice_quiz(quizzes["spanska"])
#create_quiz(quiz_dict, user_password)